<button mat-raised-button *ngIf="management" class="newMessage" (click)="openModal(myOpentemplate)">Create Event &nbsp; <i
    class="fa fa-commenting-o" aria-hidden="true"></i></button>

<!--this is the Tabs only inbox is for normal members, inbox and outbox is for one of the management (excluding chariperson), inbox, outbox and messages request is for chairpeople-->
<mat-tab-group>
<!--everything for the inbox-->
<mat-tab label="Events" *ngIf="member">
    <mat-card class="mat-card tab-row" fxFlex="100">
        <mat-card-content fxFlex="100" fxLayout="row wrap">
            <div fxLayout="row wrap" fxFlex="100" fxLayoutGap="5px" fxLayoutAlign="end center">
            </div>
            <div fxFlex="100" class="filter-header" fxLayoutAlign="space-between center">
                <mat-form-field>
                    <input matInput (keyup)="applyInboxFilter($event.target.value)" placeholder="Filter">
                </mat-form-field>
            </div>
            <mat-table fxFlex="100" #inboxTable [dataSource]="inboxDataSource" matSort>
                <ng-container matColumnDef="Id">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Id </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.eventId}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="Title">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Title </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.title}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="Description">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Description </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.description}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="CreatedBy">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> CreatedBy </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.userProfile}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="MemberNumber">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> MemberNumber </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.memberNumber}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="StartDate">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> StartDate </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.startDate | date:'dd/MM/yyyy'}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="EndDate">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> EndDate </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.endDate | date:'dd/MM/yyyy'}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="TypeOfEvent">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> TypeOfEvent </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.typeOfEvent}} </mat-cell>
                </ng-container>

                <ng-container matColumnDef="Actions">
                    <mat-header-cell *matHeaderCellDef style="min-width: 20px" fxLayoutAlign="end center">Actions
                    </mat-header-cell>
                    <mat-cell *matCellDef="let element" style="min-width: 20px" fxLayoutAlign="end center">
                        <button matTooltip="View Event" mat-icon-button color="primary"
                            (click)="openDocument(element.eventId)">
                            <mat-icon aria-label="">remove_red_eye</mat-icon>
                        </button>
                    </mat-cell>
                </ng-container>
                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </mat-table>
            <div fxFlex="grow">
                <mat-paginator #inboxPaginator [pageSize]="10" [pageSizeOptions]="[5, 10, 20]"
                    [showFirstLastButtons]="true">
                </mat-paginator>
            </div>
        </mat-card-content>
    </mat-card>
</mat-tab>

<!--everything for the outbox-->
<mat-tab label="My Events" *ngIf="management">
    <mat-card class="mat-card tab-row" fxFlex="100">
        <mat-card-content fxFlex="100" fxLayout="row wrap">
            <div fxLayout="row wrap" fxFlex="100" fxLayoutGap="5px" fxLayoutAlign="end center">
            </div>
            <div fxFlex="100" class="filter-header" fxLayoutAlign="space-between center">
                <mat-form-field>
                    <input matInput (keyup)="applyOutboxFilter($event.target.value)" placeholder="Filter">
                </mat-form-field>
            </div>
            <mat-table fxFlex="100" #outboxTable [dataSource]="outboxDataSource" matSort>
                <ng-container matColumnDef="Id">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Id </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.eventId}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="Title">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Title </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.title}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="Description">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Description </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.description}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="CreatedBy">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> CreatedBy </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.userProfile}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="MemberNumber">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> MemberNumber </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.memberNumber}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="StartDate">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> StartDate </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.startDate | date:'dd/MM/yyyy'}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="EndDate">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> EndDate </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.endDate | date:'dd/MM/yyyy'}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="TypeOfEvent">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> TypeOfEvent </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.typeOfEvent}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="Actions">
                    <mat-header-cell *matHeaderCellDef style="min-width: 20px" fxLayoutAlign="end center">Actions
                    </mat-header-cell>
                    <mat-cell *matCellDef="let element" style="min-width: 20px" fxLayoutAlign="end center">
                        <button matTooltip="View Event" mat-icon-button color="primary"
                            (click)="openDocument(element.eventId)">
                            <mat-icon aria-label="">remove_red_eye</mat-icon>
                        </button>
                    </mat-cell>
                </ng-container>
                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </mat-table>
            <div fxFlex="grow">
                <mat-paginator #inboxPaginator [pageSize]="10" [pageSizeOptions]="[5, 10, 20]"
                    [showFirstLastButtons]="true">
                </mat-paginator>
            </div>
        </mat-card-content>
    </mat-card>
</mat-tab>

<!--everything for the pending-->
<mat-tab label="Pending Events" *ngIf="chair">
    <mat-card class="mat-card tab-row" fxFlex="100">
        <mat-card-content fxFlex="100" fxLayout="row wrap">
            <div fxLayout="row wrap" fxFlex="100" fxLayoutGap="5px" fxLayoutAlign="end center">
            </div>
            <div fxFlex="100" class="filter-header" fxLayoutAlign="space-between center">
                <mat-form-field>
                    <input matInput (keyup)="applyPendingFilter($event.target.value)" placeholder="Filter">
                </mat-form-field>
            </div>
            <mat-table fxFlex="100" #pendingTable [dataSource]="pendingDataSource" matSort>
                <ng-container matColumnDef="Id">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Id </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.eventId}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="Title">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Title </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.title}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="Description">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> Description </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.description}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="CreatedBy">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> CreatedBy </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.userProfile}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="MemberNumber">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> MemberNumber </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.memberNumber}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="StartDate">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> StartDate </mat-header-cell>
                    <mat-cell *matCellDef="let element">{{element.startDate | date:'dd/MM/yyyy'}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="EndDate">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> EndDate </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.endDate | date:'dd/MM/yyyy'}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="TypeOfEvent">
                    <mat-header-cell *matHeaderCellDef mat-sort-header> TypeOfEvent </mat-header-cell>
                    <mat-cell *matCellDef="let element"> {{element.typeOfEvent}} </mat-cell>
                </ng-container>
                <ng-container matColumnDef="Actions">
                    <mat-header-cell *matHeaderCellDef style="min-width: 20px" fxLayoutAlign="end center">Actions
                    </mat-header-cell>
                    <mat-cell *matCellDef="let element" style="min-width: 20px" fxLayoutAlign="end center">
                        <button matTooltip="View Event" mat-icon-button color="primary"
                            (click)="openDocument(element.eventId)">
                            <mat-icon aria-label="">remove_red_eye</mat-icon>
                        </button>
                        <button matTooltip="Aprove Event" mat-icon-button color="primary"
                            (click)="aproveDocument(element.eventId)">
                            <mat-icon aria-label="">check</mat-icon>
                        </button>
                        <button matTooltip="Decline Event" mat-icon-button color="primary"
                            (click)="declineDocument(element.eventId)">
                            <mat-icon aria-label="">close</mat-icon>
                        </button>
                    </mat-cell>
                </ng-container>
                <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
                <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </mat-table>
            <div fxFlex="grow">
                <mat-paginator #inboxPaginator [pageSize]="10" [pageSizeOptions]="[5, 10, 20]"
                    [showFirstLastButtons]="true">
                </mat-paginator>
            </div>
        </mat-card-content>
    </mat-card>
</mat-tab>
</mat-tab-group>

<ng-template #myOpentemplate>
<div style="flex-direction: column; box-sizing: border-box; display: flex;">
    <div  style="flex-direction: row; box-sizing: border-box; display: flex;">
        <button style="margin-bottom: 20px; padding-bottom: 5px; margin-right: 15px;" mat-button (click)="DocumentFile.click()">
            <mat-icon style="margin-right: 5px; margin-bottom: 5px;">backup</mat-icon>
            Upload Document
        </button>
        <input hidden type="file" accept=".pdf" id="File" #DocumentFile (change)="OpenFile($event)">
        <mat-form-field appearance="fill" style="width: 300px; margin-right: 15px;">
            <mat-label>
                Event Title
            </mat-label>
            <input [(ngModel)]="title" matInput>
        </mat-form-field>
    </div>
    <div  style="flex-direction: row; box-sizing: border-box; display: flex; margin-bottom: 10px;">
        <mat-form-field style="margin: 10px;" appearance="fill" class="registerInputsPersonalLeft">
            <mat-label>Start Date</mat-label>
            <input [(ngModel)]="startDate" matInput [matDatepicker]="picker">
            <mat-hint>YYYY/MM/DD</mat-hint>
            <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
            <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>

        <mat-form-field style="margin: 10px;" appearance="fill" class="registerInputsPersonalLeft">
            <mat-label>End Date</mat-label>
            <input [(ngModel)]="endDate" matInput [matDatepicker]="picker2">
            <mat-hint>YYYY/MM/DD</mat-hint>
            <mat-datepicker-toggle matSuffix [for]="picker2"></mat-datepicker-toggle>
            <mat-datepicker #picker2></mat-datepicker>
        </mat-form-field>

        <mat-form-field style="margin: 10px; width: 300px;" appearance="fill">
            <mat-label>Type of Event</mat-label>
            <mat-select [(ngModel)]="selectedSendOption">
              <mat-option *ngFor="let entry of sendOptions" [value]="entry.value">
                {{entry.viewValue}}
              </mat-option>
            </mat-select>
          </mat-form-field>
    </div>
    <mat-form-field appearance="fill" style="width: 900px; margin-right: 15px;">
        <mat-label>
            Event Description
        </mat-label>
        <input [(ngModel)]="description" matInput>
    </mat-form-field>
    

    <button matTooltip="Create Event" style="padding-top: 10px; padding-left: 15px;" mat-icon-button color="primary"
                    (click)="sendMessage()">
                    <mat-icon aria-label="">send</mat-icon>
                </button>
</div>

</ng-template>